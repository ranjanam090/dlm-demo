
<!doctype html>
<html lang="en">
<head>
  <!-- Character encoding -->
  <meta charset="utf-8" />

  <!-- Mobile-friendly viewport -->
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />

  <!-- Page title -->
  <title>Dynamic Load Management — 50 kW Granularity</title>

  <!-- ✅ Correct CSS link: relative path, no leading slash -->
  styles.css

  <!-- SEO description -->
  <meta name="description" content="Interactive animation of dynamic load management with 50 kW power modules." />
</head>
<body>
  <!-- Header / Hero -->
  <header class="hero container">
    <h1>Dynamic load management — <span class="accent">50&nbsp;kW</span> granularity</h1>
    <p class="sub">
      Watch power modules re‑allocate across vehicles in real time for the most efficient use of site capacity.
    </p>

    <!-- Controls -->
    <div class="controls">
      <button id="addEv" class="btn">+ Add EV</button>
      <button id="removeEv" class="btn" aria-disabled="true">– Remove EV</button>
      <button id="randomize" class="btn btn-outline">Randomize Requests</button>
      <label class="toggle">
        <input type="checkbox" id="peakShave" />
        <span>Peak‑shave (limit site to 300&nbsp;kW)</span>
      </label>
    </div>
  </header>

  <!-- Main content -->
  <main class="container">
    <!-- Animation stage -->
    <section class="stage" id="stage" aria-label="Dynamic load management animation">
      <!-- Power pool -->
      <aside class="pool">
        <h2 class="pool-title">
          Power Pool
          <small id="poolKw">400 kW total</small>
        </h2>

        <!-- Module stack (left column) -->
        <div id="moduleStack" class="module-stack" aria-live="polite" aria-atomic="true"></div>

        <!-- Legend -->
        <div class="legend">
          <span class="chip module-chip"></span>
          <span>= 50 kW module</span>
        </div>
      </aside>

      <!-- Stalls (right column) -->
      <div class="stalls" id="stalls" role="list" aria-label="Charging stalls">
        <!-- JS populates stall cards -->
      </div>

      <!-- Floating animation tokens layer -->
      <div class="tokens-layer" id="tokensLayer" aria-hidden="true"></div>
    </section>

    <!-- Summary table -->
    <section class="summary">
      <h3>Live allocation</h3>
      <table class="grid" aria-describedby="tableHelp">
        <thead>
          <tr>
            <th>Stall</th>
            <th>Request</th>
            <th>Allocated</th>
            <th>Priority</th>
          </tr>
        </thead>
        <tbody id="summaryBody"></tbody>
      </table>
      <p id="tableHelp" class="help">
        Allocation happens in 50&nbsp;kW steps. Toggle Peak‑shave to see how the system redistributes power.
      </p>
    </section>
  </main>

  <!-- Footer -->
  <footer class="container foot">
    <p>
      Clean‑room demo of DLM with 50&nbsp;kW steps. Respects reduced‑motion settings and pauses when off‑screen.
    </p>
  </footer>

  <!-- ✅ Correct JS link: relative path, loaded with 'defer' so DOM is ready -->
  app.js</script>
</body>
</html>
